# 更新日志 (Changelog)

本项目 `shopify2woo-web` 的更新记录将在此文件中记录。

## 📅 功能计划 (Feature Plans)

1. **微信授权登录**
   - 针对中国内地用户，增加通过微信登录的功能。

2. **积分/点数系统 (Credit System)**
   - **新用户福利**：注册即送 30 个导入点数。
   - **充值套餐**：
     - $2.99 / 300 次
     - $9.99 / 1500 次
     - $39.99 / 10000 次

3. **首页使用说明**
   - 在首页增加详细的使用说明文档/引导。

4. **导入模式区分**
   - **简单导入**：直接导入，无需额外确认。
   - **复杂导入**：先预览抓取结果，确认后再导入。

5. **更多 WordPress 类型支持**
   - 增加对更多类型 WordPress 官网的支持。

6. **支付接入**
   - 增加对stripe付款支持
   - 增加对微信付款支持

---

## [Latest] - 2025-12-06

### ✨ 新增功能 (Features)
1. **右侧栏改造**
   - 对右侧操作栏进行了重构和优化，提升用户体验。

2. **多平台支持**
   - 实现了 **Shopify**, **WordPress**, **Wix** 产品页的抓取与导入功能，扩展了工具的适用范围。

3. **实时消息日志**
   - 实现了基于 WebSocket 的实时消息日志功能，让用户能实时看到后端处理进度。

4. **身份认证与授权**
   - 引入 **Supabase Auth** 作为认证系统。
   - 增加了 **Google 登录授权**，方便用户快捷登录。

### 🚀 性能与架构 (Performance & Architecture)
5. **图片处理优化**
   - 导入过程中，图片改为先写入 **Supabase Storage**，确保存储的可靠性。
   - 引入了 **weserv.nl** 图片加速服务，优化前端图片展示速度。同时解决了avif格式无法写入woo的问题

6. **异步任务处理**
   - 后端引入使用了 **Supabase 消息队列** (基于 pgmq)，增强了任务处理的稳定性和并发能力。

---

## 🛠️ 问题与解决 (Issues & Solutions)

1. **WooCommerce API 写入路径问题**
   - **问题**：部分环境直接调用 API 无法写入。
   - **解决**：API 路径中需要显式增加 `/index.php/` 才能正常写入数据。

2. **图片加速与格式兼容**
   - **方案**：使用 `weserv.nl` 免费图片加速服务。
   - **效果**：不仅加速了图片加载，还解决了 AVIF 格式图片无法写入 WooCommerce 的问题。
